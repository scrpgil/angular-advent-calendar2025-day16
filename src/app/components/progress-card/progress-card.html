<div class="w-full max-w-sm p-6 bg-white rounded-2xl shadow-lg">
  <h3 class="mb-4 text-gray-700">ファイルアップロード中</h3>

  <div class="relative w-full h-3 bg-gray-200 rounded-full overflow-hidden mb-6">
    <div
      #progressBar
      class="absolute inset-y-0 left-0 bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300"
      [style.width]="progressWidth()"
    ></div>

    @if (isAnimating()) {
      <div
        #shimmer
        class="absolute inset-y-0 left-0 w-20 bg-white opacity-30"
      ></div>
    }
  </div>

  <div class="flex items-center justify-between">
    <span class="text-gray-600">{{ progress() }}%</span>

    <div class="flex gap-2">
      <button
        #startButton
        (click)="startProgress()"
        [disabled]="isAnimating()"
        class="px-4 py-2 bg-blue-500 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"
        [class]="startButtonClass()"
      >
        <lucide-icon [img]="PlayIcon" class="w-4 h-4" />
        開始
      </button>

      <button
        #resetButton
        (click)="reset()"
        [disabled]="isAnimating()"
        class="px-4 py-2 bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"
        [class]="resetButtonClass()"
      >
        <lucide-icon [img]="RotateCcwIcon" class="w-4 h-4" />
        リセット
      </button>
    </div>
  </div>
</div>
